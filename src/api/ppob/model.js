// class Model {}
// module.exports = Model;

const { RequestLimiter } = require("../../lib/util");

// const curl_request = ["curl -L -X POST 'https://gateway.egw.xl.co.id/token' \\-H 'Content-Type: application/x-www-form-urlencoded' \\--data-urlencode 'grant_type=client_credentials' \\--data-urlencode 'client_id=<client_id>' \\--data-urlencode 'client_secret=<client_secret>'", "curl -L -X POST 'https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-encrypt' \\-H 'Authorization: Bearer {{access_token}}' \\-H 'apiId: {{api-id}}\\-H 'apikey: {{api-key}}' \\-H 'language: ID' \\-H 'Content-Type: application/json' \\--data-raw '{\"data\": \"1234\"}'", "curl -L -X POST 'https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-package' \\-H 'Authorization: Bearer {{access_token}}' \\-H 'apiid: {{api-id}}' \\-H 'apikey: {{api-key}}' \\-H 'language: ID' \\-H 'Content-Type: application/json' \\--data-raw '{\"msisdn\": \"6281213123\",\"pin\": \"vcHSKNpbzbU0wQQep31OAg==\", \"productCode\": \"XTRA_EDUKASI\"}'", "curl -L -X GET 'https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-transaction-history?startdate=2022-10-01&enddate=2022-10-25' \\-H 'Authorization: Bearer {{access_token}}' \\-H 'apiid: {{api-id}}' \\-H 'apikey: {{api-key}}' \\-H 'language: ID'", "curl -L -X POST 'https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-w2p' \\-H 'Authorization: Bearer {{access_token}}' \\-H 'apiid: {{api-id}}' \\-H 'apikey: {{api-key}}' \\-H 'language: ID' \\-H 'Content-Type: application/json' \\--data-raw '{\"msisdn\": \"6287787237069\",\"pin\": \"IZVOgzZy5g0QVhAc3FAo3Q==\", \"denom\": 25000}'", "curl -L -X GET 'https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-dompul-balance' \\-H 'Authorization: Bearer {{access_token}}' \\-H 'apiid: {{api-id}}' \\-H 'apikey: {{api-key}}' \\-H 'language: ID'", "curl -L -X GET 'https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-pulsa-balance' \\-H 'Authorization: Bearer {{access_token}}' \\-H 'apiid: {{api-id}}' \\-H 'apikey: {{api-key}}' \\-H 'language: ID'", "curl -L -X GET 'https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-product-list' \\-H 'Authorization: Bearer {{access_token}}' \\-H 'apiid: {{api-id}}' \\-H 'apikey: {{api-key}}' \\-H 'language: ID'", "curl -L -X POST 'https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-package-pulsa' \\-H 'Authorization: Bearer {{access_token}}' \\-H 'apiid: {{api-id}}' \\-H 'apikey: {{api-key}}' \\-H 'language: ID' \\-H 'Content-Type: application/json' \\--data-raw '{\"msisdn\": \"6281213123\",\"pin\": \"vcHSKNpbzbU0wQQep31OAg==\", \"productCode\": \"XTRA_EDUKASI\"}'", "curl -L -X GET 'https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-awg-stock' \\-H 'Authorization: Bearer {{access_token}}' \\-H 'apiid: {{api-id}}' \\-H 'apikey: {{api-key}}' \\-H 'language: ID'", "curl -L -X GET 'https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-awg-transaction-info?beginDate=01-11-2022&endDate=22-11-2022&servicetype=SELLVOUCHER' \\-H 'Authorization: Bearer {{access_token}}' \\-H 'apiid: {{api-id}}' \\-H 'apikey: {{api-key}}' \\-H 'Content-Type: application/json' \\-H 'language: ID'", "curl -L -X POST 'https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-awg-transaction-info-detail' \\-H 'Authorization: Bearer {{access_token}}' \\-H 'apiid: {{api-id}}' \\-H 'apikey: {{api-key}}' \\-H 'Content-Type: application/json' \\-H 'language: ID' \\--data-raw '{\"command\": \"info-detail-voucher\",\"masterTrxId\": \"TEMBAKTXL170178221212133349945\"}'", 'curl -L -X POST \'https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-awg-tembak\' \\-H \'Authorization: Bearer {{access_token}}\' \\-H \'apiid: {{api-id}}\' \\-H \'apikey: {{api-key}}\' \\-H \'Content-Type: application/json\' \\-H \'language: ID\' \\--data-raw \'{"target": [ "6287787237069"],"pin": "9+COegKn4IuRupDjfPF95Q==", "vId":"tpB4CBhS1Xr9x6dt5M0F2Bplt3xFlDOnV40Lq37irClNaAdaRolmbf5VK3mMFbo2f6c13co%2F8OQ6vZGy8 CQI0xQ%2BWLomyTTfPXLD1MuwUJl2VEGiOx4qKkZTmJzitDyU","command": "tembak-paket-ir", "allowType": "TRS"}\'', "curl -L -X GET 'https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-xwg-stock?roType=MINI-GROSIR'\\-H 'Authorization: Bearer {{access_token}}' \\-H 'apiid: {{api-id}}' \\-H 'apikey: {{api-key}}' \\-H 'Content-Type: application/json' \\-H 'language: ID'", "curl -L -X GET 'https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-xwg-transaction-info?beginDate=01-11-2022&endDate=22-11-2022&servicetype=SELLVOUCHER' \\-H 'Authorization: Bearer {{access_token}}' \\-H 'apiid: {{api-id}}' \\-H 'apikey: {{api-key}}' \\-H 'Content-Type: application/json' \\-H 'language: ID'", "curl -L -X POST 'https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-xwg-transaction-info-detail' \\-H 'Authorization: Bearer {{access_token}}' \\-H 'apiid: {{api-id}}' \\-H 'apikey: {{api-key}}' \\-H 'language: ID' \\-H 'Content-Type: application/json' \\--data-raw '{\"command\": \"sellvoucher-detail\",\"masterTrxId\": \"TEMBAK101162221212132411526\"}'", 'curl -L -X POST \'https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-xwg-tembak\' \\-H \'Authorization: Bearer {{access_token}}\' \\-H \'apiid: {{api-id}}\' \\-H \'apikey: {{api-key}}\' \\-H \'language: ID\' \\-H \'Content-Type: application/json\' \\--data-raw \'{"allowType": "TRE", "command": "sell-voucher","pin": "6vIrZSvEN9TRPJbCO1ht1A==","target": [ "6287884074088"],"vId": "tpB4CBhS1Xr9x6dt5M0F2Bplt3xFlDOnV40Lq37irClNaAdaRolmbf5VK3mMFbo2f6c13co%2F8OQ6vZGy8 CQI0xQ%2BWLomyTTfPXLD1MuwUJl2VEGiOx4qKkZTmJzitDyU"}\'', "curl -L -X GET 'https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-transaction-history-detail?transactionId=18acbb64386f81aea56c56da2fc8ebdd8d195976&msisdnB=6287801311557&orderStatus=SUCCESS' \\-H 'Authorization: Bearer {{access_token}}' \\-H 'apiid: {{api-id}}' \\-H 'apikey: {{api-key}}' \\-H 'Content-Type: application/json' \\-H 'language: ID'"];

const fetch_request = [
    { input: "https://gateway.egw.xl.co.id/token", method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: { grant_type: "client_credentials", client_id: "<client_id>", client_secret: "<client_secret>" } },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-encrypt", method: "POST", headers: { Authorization: "Bearer {{access_token}}", apiId: "{{api-id}}", apikey: "{{api-key}}", language: "ID", "Content-Type": "application/json" }, body: { data: "1234" } },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-package", method: "POST", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", language: "ID", "Content-Type": "application/json" }, body: { msisdn: "6281213123", pin: "vcHSKNpbzbU0wQQep31OAg==", productCode: "XTRA_EDUKASI" } },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-transaction-history?startdate=2022-10-01&enddate=2022-10-25", method: "GET", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", language: "ID" }, body: null },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-w2p", method: "POST", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", language: "ID", "Content-Type": "application/json" }, body: { msisdn: "6287787237069", pin: "IZVOgzZy5g0QVhAc3FAo3Q==", denom: 25000 } },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-dompul-balance", method: "GET", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", language: "ID" }, body: null },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-pulsa-balance", method: "GET", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", language: "ID" }, body: null },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-product-list", method: "GET", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", language: "ID" }, body: null },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-package-pulsa", method: "POST", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", language: "ID", "Content-Type": "application/json" }, body: { msisdn: "6281213123", pin: "vcHSKNpbzbU0wQQep31OAg==", productCode: "XTRA_EDUKASI" } },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-awg-stock", method: "GET", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", language: "ID" }, body: null },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-awg-transaction-info?beginDate=01-11-2022&endDate=22-11-2022&servicetype=SELLVOUCHER", method: "GET", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", "Content-Type": "application/json", language: "ID" }, body: null },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-awg-transaction-info-detail", method: "POST", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", "Content-Type": "application/json", language: "ID" }, body: { command: "info-detail-voucher", masterTrxId: "TEMBAKTXL170178221212133349945" } },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-awg-tembak", method: "POST", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", "Content-Type": "application/json", language: "ID" }, body: { target: ["6287787237069"], pin: "9+COegKn4IuRupDjfPF95Q==", vId: "tpB4CBhS1Xr9x6dt5M0F2Bplt3xFlDOnV40Lq37irClNaAdaRolmbf5VK3mMFbo2f6c13co%2F8OQ6vZGy8 CQI0xQ%2BWLomyTTfPXLD1MuwUJl2VEGiOx4qKkZTmJzitDyU", command: "tembak-paket-ir", allowType: "TRS" } },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-xwg-stock?roType=MINI-GROSIR", method: "GET", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", "Content-Type": "application/json", language: "ID" }, body: null },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-xwg-transaction-info?beginDate=01-11-2022&endDate=22-11-2022&servicetype=SELLVOUCHER", method: "GET", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", "Content-Type": "application/json", language: "ID" }, body: null },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-xwg-transaction-info-detail", method: "POST", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", language: "ID", "Content-Type": "application/json" }, body: { command: "sellvoucher-detail", masterTrxId: "TEMBAK101162221212132411526" } },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/post-xwg-tembak", method: "POST", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", language: "ID", "Content-Type": "application/json" }, body: { allowType: "TRE", command: "sell-voucher", pin: "6vIrZSvEN9TRPJbCO1ht1A==", target: ["6287884074088"], vId: "tpB4CBhS1Xr9x6dt5M0F2Bplt3xFlDOnV40Lq37irClNaAdaRolmbf5VK3mMFbo2f6c13co%2F8OQ6vZGy8 CQI0xQ%2BWLomyTTfPXLD1MuwUJl2VEGiOx4qKkZTmJzitDyU" } },
    { input: "https://gateway.egw.xl.co.id/sidompul/openapi/v1/get-transaction-history-detail?transactionId=18acbb64386f81aea56c56da2fc8ebdd8d195976&msisdnB=6287801311557&orderStatus=SUCCESS", method: "GET", headers: { Authorization: "Bearer {{access_token}}", apiid: "{{api-id}}", apikey: "{{api-key}}", "Content-Type": "application/json", language: "ID" }, body: null },
];

// console.log(fetch_request.map(req=>{
//     const url = new URL(req.input)
//     let pathname=url.pathname
//     .replace('/sidompul/openapi/v1','')
//     return pathname
// }))

const db = {};

db.composers = [
    { id: null, input: null, method: null, headers: null, body: null }, //
];
db.messages = [
    { id: null, status: null, headers: null, body: null }, //
];
db.responders = [
    { id: null, composer_id: null, pattern: null, message_id: null }, //
];
